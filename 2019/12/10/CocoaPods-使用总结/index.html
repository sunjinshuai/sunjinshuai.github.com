<!DOCTYPE html><html lang="zh-cn"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> CocoaPods 使用总结 · 孙金帅的技术博客</title><meta name="description" content="CocoaPods 使用总结 - sunjinshuai"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="https://sunjinshuai.github.io/atom.xml" title="孙金帅的技术博客"><meta name="generator" content="Hexo 4.2.0"><link rel="alternate" href="/atom.xml" title="孙金帅的技术博客" type="application/atom+xml">
</head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/favicon.png" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="https://weibo.com/u/5113807465" target="_blank" class="nav-list-link">WEIBO</a></li><li class="nav-list-item"><a href="https://github.com/sunjinshuai" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">CocoaPods 使用总结</h1><div class="post-info">2019年12月10日</div><div class="post-content"><h2 id="CocoaPods简介"><a href="#CocoaPods简介" class="headerlink" title="CocoaPods简介"></a>CocoaPods简介</h2><p><code>CocoaPods</code> 是专门为 <code>iOS</code> 工程提供第三方依赖库的管理工具，通过 <code>CocoaPods</code>，我们可以更方便地管理每个第三方库的版本，而且不需要我们做太多的配置，就可以直观、集中和自动化地管理我们项目的第三方库。</p>
<p><code>CocoaPods</code> 将所有依赖的库都放在一个名为 <code>Pods</code> 的项目下，然后让主项目依赖 <code>Pods</code> 项目。然后，我们编码工作都从主项目转移到 <code>Pods</code> 项目。<code>Pods</code> 项目最终会编译为一个 <code>libPod-项目名.a</code> 静态库，主项目依赖于这个静态库。</p>
<p>对于资源文件，<code>CocoaPods</code> 提供了一个名为 <code>Pods-resources.sh</code> 的 <code>bash</code> 脚本，该脚本在每次项目编译的时候都会执行，将第三方库的各种资源文件复制到目标目录中。<code>CocoaPods</code> 通过一个名为 <code>Pods.xcconfig</code> 的文件来在编译时设置所有的依赖和参数。<code>CocoaPods</code> 是用 <code>Ruby</code> 写的，并由若干个 <code>Ruby</code> 包 (gems) 构成的。在解析整合过程中，最重要的几个 <code>gems</code> 分别是： <a href="https://links.jianshu.com/go?to=https%3A%2F%2Fgithub.com%2FCocoaPods%2FCocoaPods%2F" target="_blank" rel="noopener">CocoaPods/CocoaPods</a>、<a href="https://links.jianshu.com/go?to=https%3A%2F%2Fgithub.com%2FCocoaPods%2FCore" target="_blank" rel="noopener">CocoaPods/Core</a> 和 <a href="https://links.jianshu.com/go?to=https%3A%2F%2Fgithub.com%2FCocoaPods%2FXcodeproj" target="_blank" rel="noopener">CocoaPods/Xcodeproj</a>。</p>
<h2 id="CocoaPod的核心组件"><a href="#CocoaPod的核心组件" class="headerlink" title="CocoaPod的核心组件"></a>CocoaPod的核心组件</h2><ul>
<li>CocoaPods/CocoaPod<br>这是一个面向用户的组件，每当执行一个 <code>pod</code> 命令时，这个组件都将被激活。该组件包括了所有使用 <code>CocoaPods</code> 涉及到的功能，并且还能通过调用所有其它的 <code>gems</code> 来执行任务。</li>
<li>CocoaPods/Core<br><code>Core</code> 组件提供支持与 <code>CocoaPods</code> 相关文件的处理，文件主要是 <code>Podfile</code> 和 <code>podspecs</code>。</li>
<li>Podfile<br><code>Podfile</code> 是一个文件，用于定义项目所需要使用的第三方库。该文件支持高度定制，你可以根据个人喜好对其做出定制。更多相关信息，请查阅 <code>Podfile</code> 指南。</li>
<li>Podspec<br><code>.podspec</code> 也是一个文件，该文件描述了一个库是怎样被添加到工程中的。它支持的功能有：列出源文件、<code>framework</code>、编译选项和某个库所需要的依赖等。</li>
<li>CocoaPods/Xcodeproj<br>这个 <code>gem</code> 组件负责所有工程文件的整合。它能够创建并修改 <code>.xcodeproj</code> 和 <code>.xcworkspace</code> 文件。它也可以作为单独的一个 <code>gem</code> 包使用。如果你想要写一个脚本来方便地修改工程文件，那么可以使用这个 <code>gem</code>。</li>
</ul>
<h2 id="私有库开发流程"><a href="#私有库开发流程" class="headerlink" title="私有库开发流程"></a>私有库开发流程</h2><p>一般公司都会搭建自己的 <code>git</code> 服务器，在实战项目中，经常使用 <code>Cocoapods</code> 管理自己的私有库。</p>
<ul>
<li><code>git</code> 仓库至少需要两个，一个用于管理私有库对应版本的 <code>podspec</code> 文件，一个用于存放私有库的源文件。</li>
<li>查看现有的 <code>podspec</code> 源地址：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd ~&#x2F;.cocoapods&#x2F;repos</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h3 id="创建一个私有的-podspec-主要包括如下几步："><a href="#创建一个私有的-podspec-主要包括如下几步：" class="headerlink" title="创建一个私有的 podspec 主要包括如下几步："></a>创建一个私有的 <code>podspec</code> 主要包括如下几步：</h3><ul>
<li>创建一个私有的 <code>Spec Repo</code>，用于管理私有库对应版本的 <code>podspec</code> 文件；</li>
<li>创建 <code>pod</code> 私有库所需要的项目工程文件，并上传到私有库；</li>
<li>创建 <code>pod</code> 所对应的 <code>podspec</code> 文件，并进行验证／测试；</li>
<li>向私有的 <code>Spec Repo</code> 中提交 <code>podspec</code>；</li>
<li>使用 <code>pod</code> 库；</li>
</ul>
<h3 id="创建一个私有的-Spec-Repo"><a href="#创建一个私有的-Spec-Repo" class="headerlink" title="创建一个私有的 Spec Repo"></a>创建一个私有的 <code>Spec Repo</code></h3><ul>
<li>在自己公司的 <code>git</code> 服务器上创建 <code>SpecsRepo</code> 仓库；</li>
<li>将私有 <code>SpecsRepo</code> 关联到本地；<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pod repo add IMXSpecsRepo http:&#x2F;&#x2F;192.168.120.32&#x2F;app&#x2F;sisi-iOS&#x2F;IMXSpecsRepo.git</span><br></pre></td></tr></table></figure>

</li>
</ul>
<p>查看 <code>SpecsRepo</code> 是否创建成功</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd ~&#x2F;.cocoapods&#x2F;repos</span><br></pre></td></tr></table></figure>

<h3 id="创建-pod-私有库所需要的项目工程"><a href="#创建-pod-私有库所需要的项目工程" class="headerlink" title="创建 pod 私有库所需要的项目工程"></a>创建 pod 私有库所需要的项目工程</h3><h4 id="命令行创建"><a href="#命令行创建" class="headerlink" title="命令行创建"></a>命令行创建</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pod lib create 仓库名字 --template-url&#x3D;http:&#x2F;&#x2F;192.168.120.32&#x2F;app&#x2F;sisi-iOS&#x2F;IMXPodTemplte</span><br></pre></td></tr></table></figure>

<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p>手动创建</p>
<p>手动创建 <code>Xcode</code> 工程项目，创建 <code>podspec</code> 文件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pod spec create XXXX.podspec</span><br></pre></td></tr></table></figure>

<p>修改 <code>podspec</code> 文件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">Pod::Spec.new do |s|</span><br><span class="line">  s.name             &#x3D; &#39;AKCBrowser&#39;</span><br><span class="line">  s.version          &#x3D; &#39;0.0.1&#39;</span><br><span class="line">  s.summary          &#x3D; &#39;A short description of AKCBrowser.&#39;</span><br><span class="line"></span><br><span class="line">  # This description is used to generate tags and improve search results.</span><br><span class="line">  #   * Think: What does it do? Why did you write it? What is the focus?</span><br><span class="line">  #   * Try to keep it short, snappy and to the point.</span><br><span class="line">  #   * Write the description between the DESC delimiters below.</span><br><span class="line">  #   * Finally, don&#39;t worry about the indent, CocoaPods strips it!</span><br><span class="line"></span><br><span class="line">  s.description      &#x3D; &lt;&lt;-DESC</span><br><span class="line">  TODO: Add long description of the pod here.</span><br><span class="line">  DESC</span><br><span class="line"></span><br><span class="line">  s.homepage         &#x3D; &#39;http:&#x2F;&#x2F;192.168.120.32&#x2F;app&#x2F;akc-framework-ios&#x2F;AKCBrowser.git&#39;</span><br><span class="line">  # s.screenshots     &#x3D; &#39;www.example.com&#x2F;screenshots_1&#39;, &#39;www.example.com&#x2F;screenshots_2&#39;</span><br><span class="line">  s.license          &#x3D; &#123; :type &#x3D;&gt; &#39;MIT&#39;, :file &#x3D;&gt; &#39;LICENSE&#39; &#125;</span><br><span class="line">  s.author           &#x3D; &#123; &#39;sunjinshuai&#39; &#x3D;&gt; &#39;s_mike@163.com&#39; &#125;</span><br><span class="line">  s.source           &#x3D; &#123; :git &#x3D;&gt; &#39;http:&#x2F;&#x2F;192.168.120.32&#x2F;app&#x2F;akc-framework-ios&#x2F;AKCBrowser.git&#39;, :tag &#x3D;&gt; s.version.to_s &#125;</span><br><span class="line"></span><br><span class="line">  s.static_framework      &#x3D; true</span><br><span class="line">  s.requires_arc &#x3D; true</span><br><span class="line">  s.frameworks &#x3D; &#39;UIKit&#39;, &#39;Foundation&#39;</span><br><span class="line">  s.ios.deployment_target &#x3D; &#39;8.0&#39;</span><br><span class="line">  s.xcconfig &#x3D; &#123;</span><br><span class="line">    &#39;GCC_PREPROCESSOR_DEFINITIONS&#39; &#x3D;&gt; &#39;MAS_SHORTHAND_GLOBALS&#x3D;1&#39;</span><br><span class="line">  &#125;</span><br><span class="line">  s.resource_bundles &#x3D; &#123;</span><br><span class="line">    &#39;Browser&#39; &#x3D;&gt; [&#39;AKCBrowser&#x2F;Assets&#x2F;Browser&#x2F;*.*&#39;]</span><br><span class="line">  &#125;</span><br><span class="line">  s.source_files &#x3D; &#39;AKCBrowser&#x2F;Classes&#x2F;**&#x2F;*&#39;</span><br><span class="line"></span><br><span class="line">  s.dependency &#39;SDWebImage&#39;,&#39;4.2.3&#39;</span><br><span class="line">  s.dependency &#39;YYImage&#39;</span><br><span class="line">  s.dependency &#39;AKCFoundation&#39;</span><br><span class="line">  s.dependency &#39;AFNetworking&#x2F;Reachability&#39;</span><br><span class="line">  s.dependency &#39;SVProgressHUD&#39;</span><br><span class="line">  s.dependency &#39;AKCLog&#39;</span><br><span class="line"></span><br><span class="line">end</span><br></pre></td></tr></table></figure>

<h3 id="podspec-语法简介"><a href="#podspec-语法简介" class="headerlink" title="podspec 语法简介"></a>podspec 语法简介</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">s.name：私有库的名称，&#96;pod search&#96;搜索的关键词，注意这里一定要和&#96;.podspec&#96;的名称一样，否则报错。</span><br><span class="line">s.version：私有库的版本。</span><br><span class="line">s.ios.deployment_target：支持的pod最低版本。</span><br><span class="line">s.summary：私有库简介。</span><br><span class="line">s.description：私有库详细介绍。</span><br><span class="line">s.homepage：私有库在GitHub上的地址。</span><br><span class="line">s.license：开源协议。</span><br><span class="line">s.author：作者。</span><br><span class="line">s.social_media_url：社交网址，你的podspec发布成功后会@你</span><br><span class="line">s.source：私有库在GitHub上的地址和版本号。</span><br><span class="line">s.source_files：私有库对外共享的.h和.m文件。</span><br><span class="line">s.requires_arc：是否支持ARC。</span><br></pre></td></tr></table></figure>

<p>更多语法查看(<a href="http://guides.cocoapods.org/making/specs-and-specs-repo.html" target="_blank" rel="noopener">http://guides.cocoapods.org/making/specs-and-specs-repo.html</a>)</p>
<h3 id="上传项目工程的源文件"><a href="#上传项目工程的源文件" class="headerlink" title="上传项目工程的源文件"></a>上传项目工程的源文件</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">git add -A</span><br><span class="line">git commit -m &quot;first commit&quot;</span><br><span class="line">git remote add origin http:&#x2F;&#x2F;192.168.120.32&#x2F;app&#x2F;akc-framework-ios&#x2F;AKCBrowser.git</span><br><span class="line">git push -u origin master</span><br><span class="line">git tag -m &quot;first release&quot; 0.0.1</span><br><span class="line">git push --tags     #推送tag到远端仓库</span><br></pre></td></tr></table></figure>
<h3 id="验证-podspec-文件"><a href="#验证-podspec-文件" class="headerlink" title="验证 podspec 文件"></a>验证 podspec 文件</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pod lib lint --allow-warnings --verbose</span><br><span class="line">pod lib lint --use-libraries --allow-warnings   &#x2F;&#x2F; 使用静态库后的用法</span><br><span class="line">pod lib lint --sources&#x3D;http:&#x2F;&#x2F;192.168.120.32&#x2F;app&#x2F;sisi-iOS&#x2F;IMXSpecsRepo.git</span><br></pre></td></tr></table></figure>

<p>当看到 <code>AKCBrowser passed validation</code>。表示验证通过。</p>
<h3 id="向-Spec-Repo-中提交-podspec-文件"><a href="#向-Spec-Repo-中提交-podspec-文件" class="headerlink" title="向 Spec Repo 中提交 podspec 文件"></a>向 Spec Repo 中提交 podspec 文件</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 如果依赖其他私有源 同样需要加上 --sources 参数</span><br><span class="line">pod repo push IMXSpecsRepo AKCFoundation.podspec --allow-warnings</span><br><span class="line">pod repo push IMXSpecsRepo AKCProtobuf.podspec --allow-warnings --use-libraries  &#x2F;&#x2F; 使用静态库后的用法</span><br><span class="line"></span><br><span class="line">pod repo push IMXSpecsRepo AKCFoundation.podspec --allow-warnings --sources&#x3D;&#39;http:&#x2F;&#x2F;192.168.120.32&#x2F;ddcang&#x2F;iOSGiftBox&#x2F;SpecsRepo.git&#39;</span><br></pre></td></tr></table></figure>

<h2 id="多-target-时-Podfile-该如何写"><a href="#多-target-时-Podfile-该如何写" class="headerlink" title="多 target 时 Podfile 该如何写"></a>多 target 时 Podfile 该如何写</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">platform :ios, &#39;8.0&#39;</span><br><span class="line"></span><br><span class="line">def commonPods #通用pods集</span><br><span class="line">    pod &#39;AFNetworking&#39;, &#39;~&gt; 2.0&#39;</span><br><span class="line">    pod &#39;Masonry&#39;</span><br><span class="line">end</span><br><span class="line"></span><br><span class="line">def appOnlyPods #app专用pods集</span><br><span class="line">    pod &#39;MBProgressHUD&#39;</span><br><span class="line">end</span><br><span class="line"></span><br><span class="line">def extensionPods #扩展专用pods集</span><br><span class="line">    pod &#39;GTSDKExtension&#39;</span><br><span class="line">end</span><br><span class="line"></span><br><span class="line">target :TestCocoaPods do</span><br><span class="line">    commonPods</span><br><span class="line">    appOnlyPods</span><br><span class="line"></span><br><span class="line">    target :TestCocoaPodsTests do</span><br><span class="line">    inherit! :search_paths</span><br><span class="line">    # Pods for testing</span><br><span class="line">    end</span><br><span class="line"></span><br><span class="line">    target :TestCocoaPodsUITests do</span><br><span class="line">        inherit! :search_paths</span><br><span class="line">        # Pods for testing</span><br><span class="line">    end</span><br><span class="line">end</span><br><span class="line"></span><br><span class="line">target :SecondTarget do</span><br><span class="line">    commonPods</span><br><span class="line">end</span><br></pre></td></tr></table></figure>

<h2 id="如何忽略Pods警告"><a href="#如何忽略Pods警告" class="headerlink" title="如何忽略Pods警告"></a>如何忽略Pods警告</h2><p>在 <code>Podfile</code> 中对应的 <code>target</code> 或分组下加上关键字 <code>inhibit_all_warnings</code>即可。</p>
<h2 id="如何直接引用第三方库中的头文件"><a href="#如何直接引用第三方库中的头文件" class="headerlink" title="如何直接引用第三方库中的头文件"></a>如何直接引用第三方库中的头文件</h2><p>在用 <code>CocoaPods</code> 集成第三方库之后，默认情况下，我们需要使用类似 <code>#import &lt;XXX/YYY.h&gt;</code>的方式引入第三方库的头文件。</p>
<p>可以在 <code>Build Settings -&gt; User Header Search Paths</code> 中添加 <code>${SRCROOT}</code> 并设置成 <code>recursive</code>，这样我们就可以直接使用 <code>#impot &quot;YYY.h&quot;</code>这种方式了。</p>
<p>pod install 和 pod update 的选择</p>
<p>pod install：</p>
<p>按照官方文档所说，<code>pod install</code>在第一次检索集成第三方以及每一次在 <code>Podfile</code> 中新增、更改或删除 pod 的时候使用。每一次执行 <code>pod install</code>命令，它都会下载安装新的 <code>pod</code>，并且会把每一个安装的 <code>pod</code> 的版本信息写入 <code>Podfile.lock</code> 文件。<code>Podfile.lock</code> 文件跟踪每一个安装的 <code>pod</code> 的版本并且上锁。每一次执行 <code>pod install</code>命令，只解决还没有在 <code>Podfile.lock</code> 中列出的依赖：对于已在 Podfile.lock 中列出的 <code>pod</code>，会下载指定的版本，不会检查是否有新版本。对于没有在 <code>Podfile.lock</code> 中列出的 <code>pod</code>，它会搜索并安装 <code>Podfile</code> 中指定的版本。</p>
<p>pod update：</p>
<p>直接执行 <code>pod update</code>命令会检查安装 <code>Podfile</code> 中列出的所有 <code>pod</code> 的最新版本。只有当你想要更新 <code>pod</code> 库的版本时才使用 <code>pod update</code>；它不管 <code>Podfile.lock</code>是否存在，都会读取 <code>Podfile</code> 文件的最新版本，下载好之后，重新生成 <code>Podfile.lock</code>文件。</p>
<p>两者的区别：</p>
<ul>
<li><p>用 <code>pod install</code>命令来安装新的 <code>pod</code>，每次在 <code>Podfile</code> 中新增和删除 <code>pod</code> 都使用 <code>pod install</code>命令。</p>
</li>
<li><p>在 <code>Podfile</code> 中添加新的 <code>pod</code> 后应该用 <code>pod install</code>命令，而不是 <code>pod update</code>命令。通过 <code>pod install</code>命令安装新的 <code>pod</code> 而不用担心在同一进程中修改已有的 <code>pod</code>。</p>
</li>
<li><p><code>pod update</code>命令仅用在更新指定 <code>pod</code> 到指定版本或者更新所有 <code>pod</code>。</p>
</li>
</ul>
<p>如果想更新指定的 <code>pod</code> 仓库，可以使用</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pod update XXX –no-repo-update</span><br></pre></td></tr></table></figure>

<p>如果想安装新添加的库</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pod install –no-repo-update</span><br></pre></td></tr></table></figure>

<p>当需要在 <code>CocoaPods</code> 中删除一个我们不要的库时 可以在 <code>Podfile</code> 中直接删除相关库；</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pod update --no-repo-update 会在删除相关库时 更新其他库版本</span><br><span class="line">pod update XXX --no-repo-update 只会删除相关库 和下方一致</span><br><span class="line">pod install --no-repo-update 只会删除相关库</span><br></pre></td></tr></table></figure>

<p>关于版本指定约束</p>
<p>一般我们在使用 <code>cocoapods</code> 导入第三方库前都会生成一个 <code>podfile</code> 文件，文件中记录着我们要导入的第三方库以及对应的版本信息，比如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pod &#39;SDWebImage&#39;, &#39;~&gt; 4.3.2&#39;</span><br></pre></td></tr></table></figure>

<p>让 <code>cocoapods</code> 导入 <code>SDWbImage</code>，版本号 <code>4.3.2</code> 和版本号处于 <code>4.3.2-4.4</code> 之间的，不包括 <code>4.4</code> 和更高版本。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">pod &#39;SDWebImage&#39; --- 不指定版本，表示希望使用最新版本</span><br><span class="line">pod &#39;SDWebImage&#39;, &#39;4.3.2&#39; --- 指定明确版本，表示只想要这个版本</span><br><span class="line">逻辑关系</span><br><span class="line">&#39;&gt; 0.1&#39; --- 版本号大于0.1的</span><br><span class="line">&#39;&gt;&#x3D; 0.1&#39; --- 版本0.1和版本号大于0.1的</span><br><span class="line">&#39;&lt; 0.1&#39; --- 版本号小于0.1的</span><br><span class="line">&#39;&lt;&#x3D; 0.1&#39; --- 版本号0.1和版本号小于0.1的</span><br><span class="line">最优匹配</span><br><span class="line">&#39;~&gt; 0.1.2&#39; --- 版本0.1.2和版本号处于0.1.2-0.2之间的,不包括0.2和更高版本</span><br><span class="line">&#39;~&gt; 0.1&#39; --- 版本0.1和版本号处于0.1-1.0之间的,不包括1.0和更高版本</span><br><span class="line">&#39;~&gt; 0&#39; --- 版本0和更高，和没设没啥区</span><br></pre></td></tr></table></figure>

<p>tag 改动原则:  </p>
<ul>
<li>增加 api，修改第三位;   </li>
<li>修改 api，修改第二位；</li>
<li>大版本变更修改第一位;</li>
</ul>
</div></article></div></main><footer><div class="paginator"><a href="/2019/10/27/%E6%B5%85%E8%B0%88%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%85%AD%E5%A4%A7%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99/" class="next">下一篇</a></div><div id="disqus_thread"></div><script>var disqus_shortname = 'sunjinshuai';
var disqus_identifier = '2019/12/10/CocoaPods-使用总结/';
var disqus_title = 'CocoaPods 使用总结';
var disqus_url = 'https://sunjinshuai.github.io/2019/12/10/CocoaPods-使用总结/';
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><script id="dsq-count-scr" src="//sunjinshuai.disqus.com/count.js" async></script><div class="copyright"><p>© 2015 - 2020 <a href="https://sunjinshuai.github.io">sunjinshuai</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-65933410-1",'auto');ga('send','pageview');</script></body></html>