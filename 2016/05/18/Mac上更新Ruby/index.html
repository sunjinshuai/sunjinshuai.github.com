<!DOCTYPE html><html lang="zh-cn"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> Macä¸Šæ›´æ–°Ruby Â· å­™é‡‘å¸…çš„æŠ€æœ¯åšå®¢</title><meta name="description" content="Macä¸Šæ›´æ–°Ruby - sunjinshuai"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="https://sunjinshuai.github.io/atom.xml" title="å­™é‡‘å¸…çš„æŠ€æœ¯åšå®¢"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/favicon.png" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="http://weibo.com/sunjinshuai" target="_blank" class="nav-list-link">WEIBO</a></li><li class="nav-list-item"><a href="https://github.com/sunjinshuai" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">Macä¸Šæ›´æ–°Ruby</h1><div class="post-info">2016å¹´5æœˆ18æ—¥</div><div class="post-content"><p>åœ¨é¡¹ç›®ä¸­è¦é€‚é…<code>iOS10</code>ï¼Œè¦ä½¿ç”¨<code>cocoapods</code>æ›´æ–°ç¬¬ä¸‰æ–¹åº“ï¼Œè€Œç›®å‰ä½¿ç”¨çš„<code>ruby</code>ç‰ˆæœ¬æ˜¯<code>Mac</code>ç³»ç»Ÿè‡ªå¸¦çš„<code>1.8.7</code>ã€‚</p>
<p>æ‰€ä»¥éœ€è¦å¯¹<code>ruby</code>è¿›è¡Œå‡çº§ã€‚è¿™é‡Œä½¿ç”¨<code>rvm</code>å¯¹<code>ruby</code>è¿›è¡Œå‡çº§ï¼Œå‡çº§è¿‡ç¨‹å¦‚ä¸‹ï¼š</p>
<p>1ã€å®‰è£… rvm</p>
<p>rvmï¼š<code>Ruby Version Manager</code>ï¼Œ<code>Ruby</code>ç‰ˆæœ¬ç®¡ç†å™¨ï¼ŒåŒ…æ‹¬<code>Ruby</code>çš„ç‰ˆæœ¬ç®¡ç†å’Œ<code>Gem</code>åº“ç®¡ç†(<code>gemset</code>)ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">curlÂ -LÂ get.rvm.ioÂ |Â bashÂ -sÂ stable</div></pre></td></tr></table></figure>
<p>ç­‰å¾…ä¸€æ®µæ—¶é—´åå°±å¯ä»¥æˆåŠŸå®‰è£…å¥½<code>rvm</code>ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">sourceÂ ~/.bashrc</div><div class="line">sourceÂ ~/.bash_profile</div></pre></td></tr></table></figure>
<p>æµ‹è¯•æ˜¯å¦å®‰è£…æ­£å¸¸</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">rvmÂ -v</div></pre></td></tr></table></figure>
<p><img src="https://user-gold-cdn.xitu.io/2017/12/17/16062a9d0894c480?w=570&amp;h=366&amp;f=png&amp;s=125416" alt="Paste_Image.png"></p>
<p>2ã€ç”¨<code>rvm</code>å‡çº§<code>ruby</code></p>
<p><img src="https://user-gold-cdn.xitu.io/2017/12/17/16062a9d018e4129?w=570&amp;h=366&amp;f=png&amp;s=32111" alt="Paste_Image.png"></p>
<p>æŸ¥çœ‹å½“å‰<code>ruby</code>ç‰ˆæœ¬</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">rubyÂ -v</div><div class="line">rubyÂ 2.3</div></pre></td></tr></table></figure>
<p>åˆ—å‡ºå·²çŸ¥çš„<code>ruby</code>ç‰ˆæœ¬</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">rvmÂ listÂ known</div></pre></td></tr></table></figure>
<p>3ã€å®‰è£…<code>ruby 2.3</code><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">rvmÂ installÂ 2.3</div></pre></td></tr></table></figure></p>
<p>å®‰è£…å®Œæˆä¹‹å<code>ruby -v</code>æŸ¥çœ‹æ˜¯å¦å®‰è£…æˆåŠŸã€‚</p>
<p>ä¸‹é¢æ€»ç»“ä¸€ä¸‹ï¼Œæ›´æ–°<code>ruby</code>é‡åˆ°çš„é—®é¢˜ï¼š</p>
<p>é—®é¢˜ä¸€ï¼š<br><img src="https://user-gold-cdn.xitu.io/2017/12/17/16062a9cfc558a94?w=570&amp;h=366&amp;f=png&amp;s=137887" alt="Paste_Image.png"></p>
<p>æ„æ€å°±æ˜¯ä½ è¦å®‰è£…<code>cocoapods</code>ï¼Œä½ çš„<code>ruby</code> ç¯å¢ƒç‰ˆæœ¬å¿…é¡»å¤§äºç­‰äº<code>2.2.2</code>ã€‚</p>
<p>äºæ˜¯ï¼Œæˆ‘è¾“å…¥äº†<code>gem --version</code>ï¼Œç»“æœå‡ºæ¥çš„ç‰ˆæœ¬å·æ˜¯<code>2.6.0</code>ï¼Œè¿™æ˜æ˜å¤§äº<code>2.2.2</code>ï¼Œæ€ä¹ˆè¿˜æç¤ºç‰ˆæœ¬å¤ªä½å‘¢ã€‚ç»“æœä¸€æŸ¥æ‰çŸ¥é“<code>rvm</code>æ˜¯ç”¨æ¥ç®¡ç†<code>ruby</code>çš„ï¼Œ<code>ruby</code>çš„å…¶ä¸­ä¸€ä¸ªâ€œç¨‹åºâ€å«<code>rubygems</code>ï¼Œç®€ç§°<code>gem</code>ï¼Œè€Œç”¨æ¥ç®¡ç†é¡¹ç›®çš„<code>gem</code>çš„ï¼Œå«<code>bundle</code>ã€‚å®Œå…¨æ˜¯ä¸åŒçš„ä¸œè¥¿ï¼Œä»–ä»¬ç›¸åŒçš„åªæ˜¯éƒ½å¯ä»¥ç®¡ç†<code>gem</code>ï¼Œæ‰€ä»¥è¯´ä¸èƒ½ç”¨è¿™ä¸ªã€‚</p>
<p>è¾“å…¥<code>rvm list</code>ï¼Œ<code>ruby</code>çš„ç‰ˆæœ¬å¥½åƒæ˜¯<code>1.9.8</code>ï¼Œçœ‹æ¥æ˜¯<code>cocoapods</code>æ²¡éª—æˆ‘ã€‚æ¥ä¸‹æ¥çš„å·¥ä½œå°±æ˜¯å‡çº§<code>cocoapods</code>äº†ã€‚</p>
<p>è§£å†³æ–¹æ³•ï¼š</p>
<p>å¸è½½<code>home-brew</code><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ruby -e &quot;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/uninstall)&quot;</div></pre></td></tr></table></figure></p>
<p><img src="https://user-gold-cdn.xitu.io/2017/12/17/16062a9cfc66f04c?w=570&amp;h=366&amp;f=png&amp;s=123762" alt="Paste_Image.png"></p>
<p>ç„¶åï¼Œåœ¨æ‰§è¡Œ<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">rvm install 2.3</div></pre></td></tr></table></figure></p>
<p>è¿™æ ·<code>ruby</code>å°±å‡çº§å¥½äº†ã€‚<br>ç„¶åï¼Œ<code>cocoapods</code>å°±å¯ä»¥æ­£å¸¸å®‰è£…äº†ã€‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo gem install cocoapods</div></pre></td></tr></table></figure></p>
<p>é—®é¢˜äºŒï¼š</p>
<p>åœ¨æ‰§è¡Œ<code>rvm install 2.3</code>çš„æ—¶å€™ï¼ŒæŠ¥ä¸‹é¢è¿™ä¸ªé”™è¯¯ã€‚</p>
<p><img src="https://user-gold-cdn.xitu.io/2017/12/17/16062a9d363455f9?w=570&amp;h=366&amp;f=jpeg&amp;s=53061" alt="15C1C2DF7FBC53F7E45BE9C348E1DC31.jpg"><br>è§£å†³é—®é¢˜ï¼š</p>
<p>å‡çº§å®‰è£…<code>openssl</code></p>
<p>é¦–å…ˆï¼Œæ¥çœ‹çœ‹æˆ‘ä»¬çš„<code>openssl</code>çš„ç‰ˆæœ¬å’Œç›®å½•<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">openssl version</div><div class="line">OpenSSL 0.9.8zh 14 Jan 2016</div><div class="line"></div><div class="line">which openssl</div><div class="line">/usr/local/bin/openssl</div></pre></td></tr></table></figure></p>
<p>é€šè¿‡ä¸Šé¢çš„æŸ¥çœ‹ï¼Œæ˜æ˜¾æˆ‘ä»¬çš„ç‰ˆæœ¬å·å¤ªä½äº†ï¼Œäºæ˜¯googleäº†ä¸‹ï¼Œå¾—åˆ°ä¸‹é¢çš„ç»“æœã€‚<br>é¦–å…ˆæ›´æ–°homebrew<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">brew update</div><div class="line">Updated Homebrew from e3986e9 to 21ce7a5.</div><div class="line">==&gt; Migrating Homebrew to v0.9.9</div><div class="line">...</div></pre></td></tr></table></figure></p>
<p>çœ‹åˆ°è¿™ä¸ªä¿¡æ¯ï¼Œå°±æ˜¯æˆåŠŸçš„åœ¨æ›´æ–°äº†ï¼Œè¿™ä¸ªè¿‡ç¨‹å¯èƒ½æ¯”è¾ƒä¹…ç‚¹ã€‚æ›´æ–°å®Œä¹‹åï¼Œæˆ‘ä»¬å¼€å§‹é€šè¿‡<code>homebrew</code>å®‰è£…<code>openssl</code>ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">$ brew install openssl</div><div class="line">==&gt; Downloading https://homebrew.bintray.com/bottles/openssl-1.0.2h.el_capitan.b</div><div class="line">######################################################################## 100.0%</div><div class="line">...</div><div class="line">==&gt; Summary</div><div class="line">ğŸº  /usr/local/Cellar/openssl/1.0.2h: 1,691 files, 12M</div></pre></td></tr></table></figure>
<p>å½“æœ€åæ˜¾ç¤ºğŸºé‚£ä¸ªæ ‡å¿—ï¼Œè¯´æ˜æˆ‘ä»¬æˆåŠŸçš„å°†<code>openssl</code>å®‰è£…åˆ°<code>/usr/local/Cellar/openssl/1.0.2h</code>ã€‚<br>ä¸è¿‡ï¼Œæˆ‘ä»¬è¿˜æœ‰æœ€åä¸€æ­¥ï¼Œé‚£å°±æ˜¯å½“æˆ‘ä»¬ä½¿ç”¨<code>openssl</code>æ—¶ï¼Œä½¿ç”¨çš„æ˜¯æˆ‘ä»¬ç”¨<code>homebrew</code>æ–°ä¸‹è½½çš„<code>openssl</code>ã€‚<br>ç›´æ¥å°†<code>openssl</code>è½¯é“¾æ¥åˆ°<code>/usr/local/bin/openssl</code>ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">#å¦‚æœ/usr/local/bin/opensslä¸‹å­˜åœ¨ï¼Œåˆ™å…ˆåˆ é™¤ /usr/local/bin/openssl</div><div class="line">$ rm /usr/local/bin/openssl</div><div class="line">#å°†ä»¥å‰é€šè¿‡homebrewä¸‹è½½çš„1.0.2eç‰ˆæœ¬çš„opensslé“¾æ¥åˆ°/usr/local/bin/openssl</div><div class="line">$ ln -s /usr/local/Cellar/openssl/1.0.2e/bin/openssl /usr/local/bin/openssl</div><div class="line">$ openssl</div><div class="line">OpenSSL 1.0.2e 3 Dec 2015</div></pre></td></tr></table></figure>
<p>é—®é¢˜ä¸‰ï¼š</p>
<p><img src="https://user-gold-cdn.xitu.io/2017/12/17/16062a9d3600eaad?w=570&amp;h=366&amp;f=jpeg&amp;s=42144" alt="19851124-DE38-44A5-9948-6F3F4615FE55.png"></p>
<p>æ‰“å¼€<code>/Users/zzh/.rvm/log/1470726877_ruby-2.3.0/package_install_automake.log</code>æ–‡ä»¶ï¼Œå‘ç°æ˜¯<code>automake</code>å’Œ<code>autoconf</code>è™½ç„¶å®‰è£…äº†ï¼Œä½†æ˜¯æ²¡æœ‰é“¾æ¥ä¸Šã€‚</p>
<p>è§£å†³æ–¹æ³•ï¼š</p>
<p>äºæ˜¯<a href="http://stackoverflow.com/questions/27832732/error-running-rvm-make-install" target="_blank" rel="external">google</a>äº†ä¸‹ï¼Œå¾—åˆ°ä¸‹é¢çš„ç»“æœï¼Œéœ€è¦å®‰è£…rvmé¢å¤–çš„æ–‡ä»¶ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">rvm get head</div></pre></td></tr></table></figure>
<p><img src="https://user-gold-cdn.xitu.io/2017/12/17/16062a9d3b0b8c86?w=570&amp;h=366&amp;f=png&amp;s=57197" alt="Paste_Image.png"></p>
<p>çœŸæ˜¯ä¸€æ­¥ä¸€ä¸ªå‘å•Šï¼Œéœ€è¦æ£€æµ‹<code>rvm</code>è¿è¡Œçš„ç¯å¢ƒã€‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">rvm requirements</div></pre></td></tr></table></figure></p>
</div></article></div></main><footer><div class="paginator"><a href="/2016/06/10/iOS-RunTimeä¹‹ä¸€ï¼šç®€ä»‹/" class="prev">ä¸Šä¸€ç¯‡</a><a href="/2016/05/02/æºç ç®¡ç†å·¥å…·ä¹‹gitçš„ä½¿ç”¨/" class="next">ä¸‹ä¸€ç¯‡</a></div><div id="disqus_thread"></div><script>var disqus_shortname = 'sunjinshuai';
var disqus_identifier = '2016/05/18/Macä¸Šæ›´æ–°Ruby/';
var disqus_title = 'Macä¸Šæ›´æ–°Ruby';
var disqus_url = 'https://sunjinshuai.github.io/2016/05/18/Macä¸Šæ›´æ–°Ruby/';
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><script id="dsq-count-scr" src="//sunjinshuai.disqus.com/count.js" async></script><div class="copyright"><p>Â© 2015 - 2017 <a href="https://sunjinshuai.github.io">sunjinshuai</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-65933410-1",'auto');ga('send','pageview');</script></body></html>